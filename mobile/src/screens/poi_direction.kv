#:import SayButton controls.say_button.SayButton
#:import SwipeFloat controls.swipe_float.SwipeFloat
#:import BorderWidget controls.border_widget.BorderWidget
#:import _ utils.i18n._

<PoiDirection>:

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height
        spacing: 0
        
        Header:
            id: header
            text: _('Richtung und Abstand')
            say: _('Untermenü: Richtung und Abstand zum Ort')


        SwipeFloat:
            swipe_right: root.back
            size_hint_y: 1  # Take up the remaining space
            padding: [0, 0, 0, 0]

            BoxLayout:
                orientation: 'vertical'
                size_hint_y: 1  # Take up the remaining space
                spacing: 10
                padding: 10
                pos_hint: {'y': 0}

                SayButton:
                    text: _('Abstand')
                    say: _('Abstand zum Zielort ansagen')
                    size_hint_y: 1
                    action: root.say_distance

                SayButton:
                    text: _('Winkelangabe')
                    say: _('Richtung zum Zielort von 0 bis 360 Grad ausgeben')
                    size_hint_y: 1
                    action: root.say_angle

                BorderWidget:
                    size_hint_y: 1
                BorderWidget:
                    size_hint_y: 1
                BorderWidget:
                    size_hint_y: 1
                BorderWidget:
                    size_hint_y: 1
                BorderWidget:
                    size_hint_y: 1
                BorderWidget:
                    size_hint_y: 1
                BorderWidget:
                    size_hint_y: 1
                BorderWidget:
                    size_hint_y: 1

            Image:
                id: arrow
                size_hint: None, None
                width: root.width
                height: root.width
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                opacity: 0.4
                disabled: True
                fit_mode: 'fill' 
                canvas.before:
                    PushMatrix
                    Rotate:
                        angle: root.needle_angle
                        origin: self.center
                canvas.after:
                    PopMatrix

        BoxLayout:
            size_hint_y: None
            height: '64dp'
            spacing: 10

            SayButton:
                text: _('Zurück')
                say: _('Zurück zum Hauptmeü')
                vibrate: 2
                action: root.back
                halign: 'center'

            SayButton:
                text: _('Hilfe')
                say: _('Hilfe über dieses Untermenü')
                vibrate: 2
                halign: 'center'

